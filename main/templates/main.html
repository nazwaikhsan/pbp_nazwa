{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h1 class="display-3" style="color: #ff1493; text-align: center;">ðŸ’“Welcome to Cloudy ShopðŸ’“</h1>

    <div class="mt-5">
        <div class="col-md-6">
            <h3 style="font-size: 24px; color: #ff1493;">Your Profile:</h3>
            <ul class="list-group">
                <li class="list-group-item" style="background-color: #ff69b4; color: white; max-width: 400px;"><strong>Username :</strong> {{ name }}</li>
                <li class="list-group-item" style="background-color: #ff69b4; color: white; max-width: 400px;"><strong>Class    :</strong> {{ class }}</li>
            </ul>
        </div>
        <div class="col-md-6 mt-5">
            <h3 style="font-size: 24px; color: #ff1493;">Products:</h3>
            <table class="table table-striped" style="background-color: #ff69b4; color: white; border: 2px solid #ff1493">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Amount</th>
                        <th>Price</th>
                        <th>Description</th>
                        <th>Date Added</th>
                        <th>Action</th> 
                    </tr>
                </thead>
                <tbody>
                    {% for product in products %}
                        <tr style="background-color: #ffb6c1;">
                            <td>{{ product.name }}</td>
                            <td>{{ product.amount }}</td>
                            <td>${{ product.price }}</td>
                            <td>{{ product.description }}</td>
                            <td>{{ product.date_added }}</td>
                            <td>
                                <a href="{% url 'main:edit_product' product.pk %}">
                                    <button class="btn btn-pink" style="background-color: #ff1493; border-color: #ff1493; color: #ffffff; margin-bottom: 5px; width: 100px;">Edit</button>
                                </a>
                                <a href="{% url 'main:delete_product' product.pk %}">
                                    <button class="btn btn-pink" style="background-color: #ff1493; border-color: #ff1493; color: #ffffff; width: 100px;">Delete</button>
                                </a>
                            </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="6">No products available.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="mt-5">
        <a href="{% url 'main:create_product' %}" class="btn btn-pink" style="background-color: #ff1493; border-color: #ff1493; color: #ffffff">Add New Product</a>
        <a href="{% url 'main:logout' %}" class="btn btn-pink ml-2" style="background-color: #ff1493; border-color: #ff1493; color: #ffffff">Logout</a>
    </div>
    <h5 class="mt-5" style="color: #ff1493;">Last Login: {{ last_login }}</h5>
</div>
{% endblock content %}
